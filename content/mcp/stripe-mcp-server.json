{
  "slug": "stripe-mcp-server",
  "description": "Payment processing, subscription management, and financial transaction handling",
  "category": "mcp",
  "author": "Stripe",
  "dateAdded": "2025-09-18",
  "tags": ["payments", "stripe", "billing", "subscriptions", "commerce"],
  "content": "Integrate Stripe payment capabilities directly into Claude for payment processing and financial operations.",
  "features": [
    "Process payments and refunds programmatically",
    "Manage customer subscriptions and billing cycles",
    "View transaction history and payment analytics",
    "Handle billing operations and invoice generation",
    "Monitor payment metrics and revenue data"
  ],
  "installation": {
    "claudeDesktop": {
      "steps": [
        "Open Claude Desktop configuration file",
        "Add the Stripe server configuration with HTTP transport",
        "Restart Claude Desktop",
        "Authenticate with your Stripe account"
      ],
      "configPath": {
        "macOS": "~/Library/Application Support/Claude/claude_desktop_config.json",
        "windows": "%APPDATA%\\Claude\\claude_desktop_config.json"
      }
    },
    "claudeCode": "claude mcp add --transport http stripe https://mcp.stripe.com"
  },
  "configuration": {
    "claudeDesktop": {
      "mcp": {
        "stripe": {
          "transport": "http",
          "url": "https://mcp.stripe.com"
        }
      }
    },
    "claudeCode": {
      "mcp": {
        "stripe": {
          "transport": "http",
          "url": "https://mcp.stripe.com"
        }
      }
    }
  },
  "package": null,
  "source": "official",
  "useCases": [
    "Process customer refunds quickly",
    "Update subscription plans for customers",
    "Generate billing reports and analytics",
    "Analyze payment trends and patterns",
    "Handle failed payments and retry logic"
  ],
  "security": [
    "OAuth ensures secure access to Stripe data",
    "Test in Stripe test mode before production",
    "Log all payment operations for audit trail",
    "Follow PCI compliance guidelines"
  ],
  "troubleshooting": [
    {
      "issue": "Rate limit exceeded - 429 Too Many Requests error",
      "solution": "Rate limits: 100 req/sec live mode, 25 req/sec test mode. Check RateLimit-Remaining header in responses. Implement exponential backoff for retries. Use webhooks instead of polling. Batch operations where possible."
    },
    {
      "issue": "Test mode vs live mode object mismatch",
      "solution": "Test and live mode objects completely separate. Use sk_test_ keys for test mode, sk_live_ for production. Verify API key matches intended environment. Check Dashboard mode toggle matches code environment."
    },
    {
      "issue": "Webhook delivery failures or retry exhaustion",
      "solution": "Live mode: Stripe retries 3 days with exponential backoff. Test mode: 3 retries over few hours. Ensure endpoint returns 200 status quickly. Check webhook signing secret matches. Review endpoint logs for errors."
    },
    {
      "issue": "Authentication failed or API key invalid",
      "solution": "Verify API key starts with sk_test_ or sk_live_ prefix. Check key not revoked in Stripe Dashboard. Ensure correct publishable/secret key pair. Re-generate keys if compromised. Use restricted keys for limited scopes."
    }
  ],
  "examples": [
    {
      "title": "Processing Refunds",
      "code": "// Full refund for a payment\n\"Refund payment pi_1234567890 completely\"\n\n// Partial refund with reason\n\"Issue a $25 partial refund for payment pi_1234567890 with reason: customer_request\"\n\n// Refund with metadata\n\"Refund payment pi_1234567890 and add metadata: support_ticket=TICKET-123\"",
      "language": "javascript",
      "description": "Process full or partial refunds for payments. Include reasons and metadata for tracking. Stripe automatically handles failed payment recovery."
    },
    {
      "title": "Subscription Management",
      "code": "// List active subscriptions\n\"Show all active subscriptions for customer cus_abc123\"\n\n// Update subscription plan\n\"Upgrade customer cus_abc123 from price_basic to price_premium starting next billing cycle\"\n\n// Cancel subscription\n\"Cancel subscription sub_xyz at period end\"",
      "language": "javascript",
      "description": "Manage customer subscriptions including upgrades, downgrades, and cancellations. Control billing cycles and proration settings."
    },
    {
      "title": "Revenue and Analytics",
      "code": "// Monthly revenue report\n\"Show total revenue and transaction count for September 2024\"\n\n// Revenue by product\n\"Break down revenue by product for the last quarter\"\n\n// Failed payment analysis\n\"List all failed payments in the last 30 days with reasons\"",
      "language": "javascript",
      "description": "Generate revenue reports, analyze payment trends, and identify failed transactions. Essential for financial reporting and business intelligence."
    },
    {
      "title": "Customer and Invoice Management",
      "code": "// Create invoice\n\"Create an invoice for customer cus_abc123 with items:\n- price_item1 x 2\n- price_item2 x 1\nDue in 14 days\"\n\n// Send invoice reminder\n\"Send payment reminder for invoice in_xyz to customer\"\n\n// View customer payment history\n\"Show all payments for customer cus_abc123 in the last 6 months\"",
      "language": "javascript",
      "description": "Manage invoices, send payment reminders, and track customer payment history. Automate billing workflows for B2B customers."
    },
    {
      "title": "Payment Method Management",
      "code": "// List customer payment methods\n\"Show all payment methods for customer cus_abc123\"\n\n// Set default payment method\n\"Set payment method pm_xyz as default for customer cus_abc123\"\n\n// Remove expired cards\n\"List and remove all expired payment methods\"",
      "language": "javascript",
      "description": "Manage customer payment methods including cards, bank accounts, and wallets. Update default methods and clean up expired entries."
    },
    {
      "title": "Webhook and Event Handling",
      "code": "// List recent events\n\"Show recent webhook events for type payment_intent.succeeded\"\n\n// Retry failed webhooks\n\"Retry failed webhook deliveries from the last 24 hours\"\n\n// Monitor webhook health\n\"Show webhook endpoint health status and delivery success rate\"",
      "language": "javascript",
      "description": "Monitor webhook events, retry failed deliveries, and track integration health. Essential for maintaining reliable payment processing."
    }
  ],
  "requiresAuth": true,
  "permissions": ["read", "write", "refund"],
  "configLocation": "claude_desktop_config.json",
  "documentationUrl": "https://docs.stripe.com/mcp",
  "seoTitle": "Stripe MCP Server for Claude"
}
