{
  "description": "Create specialized Claude Code subagents with custom system prompts, scoped tool access, and independent context for parallel task execution and workflow orchestration",
  "category": "commands",
  "author": "JSONbored",
  "dateAdded": "2025-10-25",
  "tags": [
    "subagents",
    "orchestration",
    "parallel-execution",
    "specialization",
    "workflows",
    "automation"
  ],
  "content": "The `/subagent-create` command builds specialized AI subagents in Claude Code with custom expertise, independent context windows, and scoped tool permissions for modular multi-agent workflows.\n\n## Features\n\n- **Custom System Prompts**: Define exact personality, expertise, and instructions per subagent\n- **Independent Context**: Each subagent has isolated context window (doesn't clutter main conversation)\n- **Scoped Tool Access**: Grant minimum required permissions per agent role\n- **Parallel Execution**: Run up to 10 subagents concurrently with intelligent queuing\n- **Automatic Delegation**: Claude intelligently selects subagents based on task context\n- **Template Library**: Pre-built subagent templates for common development roles\n- **Performance Tracking**: Monitor subagent success rates and execution times\n- **Result Aggregation**: Combine outputs from multiple subagents into unified reports\n\n## Usage\n\n```bash\n/subagent-create [role] [options]\n```\n\n### Subagent Roles (Pre-built Templates)\n\n**Development:**\n- `--code-reviewer` - Senior code reviewer and security expert\n- `--test-engineer` - Test automation specialist\n- `--debugger` - Debugging and troubleshooting expert\n- `--refactoring-specialist` - Code refactoring and optimization\n- `--documentation-writer` - Technical documentation specialist\n\n**Architecture:**\n- `--architect` - Software architect and system designer\n- `--database-expert` - Database design and optimization\n- `--security-auditor` - Security vulnerability assessment\n- `--performance-analyst` - Performance optimization expert\n\n**DevOps:**\n- `--ci-cd-engineer` - CI/CD pipeline specialist\n- `--infrastructure-specialist` - Cloud infrastructure expert\n- `--monitoring-expert` - Observability and monitoring\n\n**Research:**\n- `--researcher` - Web research and data gathering\n- `--analyst` - Data analysis and insights\n- `--technical-writer` - Content creation and synthesis\n\n### Configuration Options\n\n- `--custom` - Create custom subagent with manual configuration\n- `--tools=<list>` - Grant specific tool access (comma-separated)\n- `--all-tools` - Grant access to all available tools\n- `--read-only` - Restrict to read-only tools only\n- `--parallel=<n>` - Set max concurrent instances (default: 10)\n- `--context-size=<tokens>` - Set context window size\n\n### Management Commands\n\n- `--list` - List all configured subagents\n- `--status` - Show active subagent execution status\n- `--delete=<name>` - Remove subagent configuration\n- `--edit=<name>` - Modify existing subagent\n\n## Examples\n\n### Code Review Subagent (Pre-built Template)\n\n**Command:**\n```bash\n/subagent-create --code-reviewer\n```\n\n**Generated Configuration:**\n```json\n{\n  \"name\": \"code-reviewer\",\n  \"displayName\": \"Senior Code Reviewer\",\n  \"description\": \"Reviews code for security, quality, and best practices\",\n  \"systemPrompt\": \"You are a senior code reviewer with 15+ years of experience.\\n\\nYour expertise includes:\\n- Security vulnerability detection (OWASP Top 10)\\n- Code quality and maintainability assessment\\n- Performance optimization identification\\n- Best practices enforcement\\n- Architecture and design patterns\\n\\nReview Guidelines:\\n1. Identify security vulnerabilities with severity ratings\\n2. Flag code smells and anti-patterns\\n3. Suggest specific improvements with examples\\n4. Praise good practices when found\\n5. Consider the broader architectural context\\n\\nProvide constructive, actionable feedback.\",\n  \"tools\": [\n    \"read_file\",\n    \"grep\",\n    \"glob\",\n    \"bash\"\n  ],\n  \"capabilities\": {\n    \"canWriteFiles\": false,\n    \"canExecuteCommands\": true,\n    \"canAccessNetwork\": false\n  },\n  \"maxConcurrent\": 3,\n  \"contextWindowSize\": 50000\n}\n```\n\n**Usage in Workflow:**\n```bash\nUser: \"Review the authentication middleware for security issues\"\n\nClaude: *delegates to code-reviewer subagent*\n\nCode Reviewer Subagent:\n1. Reads src/middleware/auth.ts\n2. Analyzes for vulnerabilities\n3. Checks dependencies for known CVEs\n4. Reviews error handling\n5. Returns detailed security report\n\nClaude: *presents aggregated findings to user*\n```\n\n### Test Engineering Subagent\n\n**Command:**\n```bash\n/subagent-create --test-engineer --tools=read_file,write_file,bash\n```\n\n**Configuration:**\n```json\n{\n  \"name\": \"test-engineer\",\n  \"displayName\": \"QA Test Engineer\",\n  \"systemPrompt\": \"You are a QA engineer specializing in test automation.\\n\\nYour role:\\n- Write comprehensive test suites (unit, integration, E2E)\\n- Identify edge cases and test scenarios\\n- Use Vitest, Jest, Playwright, Cypress\\n- Ensure high code coverage (80%+ target)\\n- Follow TDD best practices\\n\\nTest Philosophy:\\n1. Tests should be deterministic and fast\\n2. Mock external dependencies appropriately\\n3. Use descriptive test names\\n4. Follow AAA pattern (Arrange, Act, Assert)\\n5. Test behavior, not implementation\\n\\nGenerate production-ready test code.\",\n  \"tools\": [\"read_file\", \"write_file\", \"bash\"],\n  \"capabilities\": {\n    \"canWriteFiles\": true,\n    \"canExecuteCommands\": true\n  }\n}\n```\n\n**Workflow Example:**\n```bash\nUser: \"Create tests for the user authentication service\"\n\nTest Engineer Subagent:\n1. Reads src/services/auth.service.ts\n2. Identifies testable functions\n3. Generates test file structure:\n   - Unit tests for individual methods\n   - Integration tests for auth flow\n   - Edge cases (invalid tokens, expired sessions)\n4. Writes tests/unit/auth.service.test.ts\n5. Runs tests with: pnpm test auth.service\n6. Reports coverage metrics\n```\n\n### Custom Research Subagent\n\n**Command:**\n```bash\n/subagent-create --custom\n```\n\n**Interactive Setup:**\n```\nClaude: \"What should this subagent specialize in?\"\nUser: \"API documentation research and synthesis\"\n\nClaude: \"What tools should it have access to?\"\nUser: \"web search, file reading, and writing\"\n\nClaude: \"Generating custom subagent configuration...\"\n```\n\n**Generated Configuration:**\n```json\n{\n  \"name\": \"api-researcher\",\n  \"displayName\": \"API Documentation Researcher\",\n  \"systemPrompt\": \"You are an API documentation researcher specializing in discovering, analyzing, and synthesizing API documentation.\\n\\nYour capabilities:\\n- Search for official API documentation\\n- Analyze API endpoints, parameters, and responses\\n- Identify authentication methods\\n- Extract code examples\\n- Synthesize findings into clear documentation\\n\\nDeliverables:\\n1. Structured API reference documentation\\n2. Authentication flow diagrams\\n3. Code examples in multiple languages\\n4. Common integration patterns\\n5. Known limitations and best practices\",\n  \"tools\": [\"web_search\", \"read_file\", \"write_file\"],\n  \"capabilities\": {\n    \"canAccessNetwork\": true,\n    \"canWriteFiles\": true\n  }\n}\n```\n\n### Multi-Subagent Orchestration\n\n**Command:**\n```bash\n/subagent-create --architect --code-reviewer --test-engineer --documentation-writer\n```\n\n**Workflow: Building a New Feature**\n```bash\nUser: \"Build a user notification system with email and push notifications\"\n\nClaude Orchestration:\n\n1. Architect Subagent (parallel):\n   - Designs system architecture\n   - Defines data models\n   - Specifies API contracts\n   - Creates technical specification\n\n2. Main Claude:\n   - Implements notification service based on spec\n   - Creates database migrations\n   - Builds API endpoints\n\n3. Code Reviewer Subagent (parallel):\n   - Reviews implemented code\n   - Identifies security issues\n   - Suggests optimizations\n\n4. Test Engineer Subagent (parallel):\n   - Writes unit tests\n   - Creates integration tests\n   - Adds E2E test scenarios\n\n5. Documentation Writer Subagent (parallel):\n   - Generates API documentation\n   - Writes integration guide\n   - Creates troubleshooting section\n\nFinal Deliverable:\n- Production-ready notification system\n- Comprehensive test coverage\n- Complete documentation\n- Security-reviewed code\n```\n\n### Debugging Workflow with Specialized Subagents\n\n**Command:**\n```bash\n/subagent-create --debugger --performance-analyst\n```\n\n**Scenario: Investigating Slow API Response**\n```bash\nUser: \"The /api/users endpoint is taking 5+ seconds to respond\"\n\nDebugger Subagent:\n1. Reproduces issue with curl/test requests\n2. Analyzes server logs\n3. Traces execution with console.log additions\n4. Identifies slow database query\n5. Reports findings: \"N+1 query problem in user.posts relationship\"\n\nPerformance Analyst Subagent (parallel):\n1. Profiles database queries\n2. Analyzes query execution plans\n3. Identifies missing indexes\n4. Benchmarks current vs optimized queries\n5. Reports: \"Adding index on posts.user_id reduces query time from 4.2s to 12ms\"\n\nClaude (main):\n- Synthesizes findings from both subagents\n- Implements fix: adds database index\n- Applies eager loading to prevent N+1\n- Runs benchmarks to verify 95% performance improvement\n```\n\n### Security Audit with Multiple Specialists\n\n**Command:**\n```bash\n/subagent-create --security-auditor --database-expert --code-reviewer\n```\n\n**Workflow:**\n```bash\nUser: \"Perform security audit of authentication system\"\n\nSecurity Auditor Subagent:\n- Checks for SQL injection vulnerabilities\n- Tests authentication bypass attempts\n- Analyzes password hashing (bcrypt strength)\n- Verifies JWT token validation\n- Tests rate limiting effectiveness\n\nDatabase Expert Subagent:\n- Reviews database schema for PII exposure\n- Checks for unencrypted sensitive fields\n- Validates access control policies\n- Tests for timing attacks on queries\n\nCode Reviewer Subagent:\n- Analyzes authentication code flow\n- Identifies OWASP Top 10 vulnerabilities\n- Reviews error handling (no info leakage)\n- Validates input sanitization\n\nAggregated Report:\n✓ Password hashing: bcrypt with cost 12 ✓\n✗ CRITICAL: JWT tokens missing expiration\n✗ HIGH: SQL query vulnerable to injection in login endpoint\n⚠ MEDIUM: Missing rate limiting on password reset\n✓ Session management secure ✓\n```\n\n## Advanced Configuration\n\n### Tool Scoping (Minimum Permissions)\n\n```json\n{\n  \"name\": \"security-auditor\",\n  \"tools\": [\n    \"read_file\",      // Can read code\n    \"grep\",           // Can search code\n    \"bash\"            // Can run security scanners\n  ],\n  \"excludeTools\": [\n    \"write_file\",     // CANNOT modify code\n    \"edit_file\",      // CANNOT edit files\n    \"web_search\"      // CANNOT access external resources\n  ]\n}\n```\n\n### Context Window Optimization\n\n```json\n{\n  \"name\": \"documentation-writer\",\n  \"contextWindowSize\": 100000,  // Large context for full codebase understanding\n  \"summaryMode\": true            // Automatically summarize after each task\n}\n```\n\n### Parallel Execution Limits\n\n```json\n{\n  \"name\": \"test-engineer\",\n  \"maxConcurrent\": 5,  // Run up to 5 instances in parallel\n  \"queueStrategy\": \"fifo\"  // First-in-first-out when queue full\n}\n```\n\n### Handoff Patterns\n\n```json\n{\n  \"name\": \"architect\",\n  \"handoffs\": [\"code-reviewer\", \"test-engineer\"],\n  \"handoffConditions\": {\n    \"code-reviewer\": \"after implementation\",\n    \"test-engineer\": \"after code review passes\"\n  }\n}\n```\n\n## Subagent Templates Library\n\n### Development Templates\n\n**Code Reviewer:**\n- Focus: Security, quality, best practices\n- Tools: Read-only + bash for analysis\n- Context: 50K tokens\n\n**Test Engineer:**\n- Focus: Test automation, coverage, TDD\n- Tools: Read, write, bash\n- Context: 50K tokens\n\n**Debugger:**\n- Focus: Bug reproduction, root cause analysis\n- Tools: All tools except delete\n- Context: 75K tokens\n\n**Refactoring Specialist:**\n- Focus: Code modernization, optimization\n- Tools: Read, edit, write\n- Context: 100K tokens\n\n### Architecture Templates\n\n**Software Architect:**\n- Focus: System design, scalability, patterns\n- Tools: Read, write (specs only)\n- Context: 100K tokens\n\n**Database Expert:**\n- Focus: Schema design, query optimization, migrations\n- Tools: Read, write, bash (for DB tools)\n- Context: 75K tokens\n\n**Security Auditor:**\n- Focus: Vulnerability assessment, penetration testing\n- Tools: Read, bash (security scanners)\n- Context: 50K tokens\n\n### Research Templates\n\n**Researcher:**\n- Focus: Information gathering, source verification\n- Tools: Web search, read\n- Context: 100K tokens\n\n**Analyst:**\n- Focus: Data analysis, pattern recognition, insights\n- Tools: Read, bash (data tools)\n- Context: 75K tokens\n\n**Technical Writer:**\n- Focus: Documentation, tutorials, API references\n- Tools: Read, write\n- Context: 100K tokens\n\n## Performance Metrics\n\n### Tracking Subagent Success\n\n```bash\n/subagent-create --status\n```\n\n**Output:**\n```\nSubagent Performance Report:\n\ncode-reviewer:\n  Total Tasks: 45\n  Success Rate: 93%\n  Avg Execution Time: 12.3s\n  Most Common Issues Found: Security (58%), Performance (22%)\n\ntest-engineer:\n  Total Tasks: 38\n  Success Rate: 89%\n  Avg Execution Time: 24.7s\n  Avg Coverage Generated: 84%\n\ndebugger:\n  Total Tasks: 12\n  Success Rate: 100%\n  Avg Time to Root Cause: 3.2min\n```\n\n## Best Practices\n\n1. **Principle of Least Privilege**: Grant minimum required tools\n2. **Clear Role Definition**: Specific, well-defined expertise areas\n3. **Independent Context**: Keep subagent tasks isolated\n4. **Parallel When Possible**: Run non-dependent tasks concurrently\n5. **Monitor Performance**: Track success rates and optimize\n6. **Template First**: Use pre-built templates before custom\n7. **Aggregate Results**: Combine outputs for comprehensive reports\n8. **Version Control Config**: Store subagent configs in `.claude/agents/`",
  "configuration": {
    "temperature": 0.3,
    "maxTokens": 8000,
    "systemPrompt": "You are a Claude Code subagent orchestration expert specializing in creating specialized AI agents with custom system prompts, scoped tool access, and parallel execution workflows for modular task delegation"
  },
  "githubUrl": "https://github.com/VoltAgent/awesome-claude-code-subagents",
  "documentationUrl": "https://docs.claude.com/en/docs/claude-code/sub-agents",
  "discoveryMetadata": {
    "researchDate": "2025-10-25",
    "trendingSources": [
      {
        "source": "infoq",
        "evidence": "InfoQ article 'Claude Code Subagents Enable Modular AI Workflows with Isolated Context' (August 2025) highlighting feature launch and enterprise adoption",
        "url": "https://www.infoq.com/news/2025/08/claude-code-subagents/",
        "relevanceScore": "high"
      },
      {
        "source": "github_trending",
        "evidence": "VoltAgent/awesome-claude-code-subagents repository active in 2025 with 100+ production-ready subagent templates for development, DevOps, and business operations",
        "url": "https://github.com/VoltAgent/awesome-claude-code-subagents",
        "relevanceScore": "high"
      },
      {
        "source": "hacker_news",
        "evidence": "Multiple HackerNews discussions in Sept 2025 about subagent workflows achieving 72.5% on SWE-bench with 10x parallel task execution",
        "url": "https://news.ycombinator.com/item?id=45050090",
        "relevanceScore": "high"
      },
      {
        "source": "medium_tutorials",
        "evidence": "Rick Hightower's 'Claude Code Sub-Agents: Agentic Programming for the masses?' (Sept 2025) showing real-world adoption and workflow patterns",
        "url": "https://medium.com/@richardhightower/claude-code-sub-agents-agentic-programming-for-the-masses-5f6aed085333",
        "relevanceScore": "high"
      }
    ],
    "keywordResearch": {
      "primaryKeywords": [
        "Claude Code subagents",
        "AI agent orchestration",
        "parallel execution",
        "specialized agents",
        "multi-agent workflows"
      ],
      "searchVolume": "high",
      "competitionLevel": "medium"
    },
    "gapAnalysis": {
      "existingContent": [],
      "identifiedGap": "No existing command content for subagent creation or orchestration in Claude Code. Subagents represent core 2025 functionality (72.5% SWE-bench score, 10x parallel execution) but require complex configuration. Developers need guided workflow to create specialized agents with proper tool scoping, context isolation, and handoff patterns. GitHub shows 100+ community templates but no unified creation command.",
      "priority": "high"
    },
    "approvalRationale": "Subagents are THE breakthrough Claude Code feature of 2025 with 72.5% SWE-bench performance and 10x parallel execution capability. InfoQ, HackerNews, and Medium show strong developer interest. This fills critical gap - NO existing command helps create/configure subagents despite this being essential for complex workflows. High search volume, medium competition, and active GitHub ecosystem (100+ templates) validate demand. Forward-looking: multi-agent orchestration is future of AI coding."
  },
  "troubleshooting": [
    {
      "issue": "Subagent fails to execute with 'tool not found' error despite tool listed in configuration",
      "solution": "Verify tool names match exactly (case-sensitive): read_file not ReadFile. Check .claude/agents/config.json for typos in tools array. Restart Claude Code to reload subagent registry. Use /subagent-create --list to verify active configuration."
    },
    {
      "issue": "Parallel subagent execution stuck at queue with 'max concurrent reached' message",
      "solution": "Default limit is 10 concurrent subagents. Check /subagent-create --status for active tasks. Increase maxConcurrent in subagent config or wait for tasks to complete. Use queueStrategy: 'priority' to execute high-priority tasks first."
    },
    {
      "issue": "Subagent context window overflow causing 'context too large' errors mid-task",
      "solution": "Reduce contextWindowSize in subagent config (default 50K, max 200K). Enable summaryMode: true to auto-summarize after each task. Split large tasks into smaller chunks. Use read_file with line limits instead of reading entire files."
    },
    {
      "issue": "Custom subagent not appearing in automatic delegation despite proper configuration",
      "solution": "Ensure 'description' field clearly describes when to use subagent - Claude uses this for selection. Add keywords to systemPrompt matching common task descriptions. Verify .claude/agents/ directory permissions. Manually invoke with @subagent-name to test."
    },
    {
      "issue": "Subagent results not aggregating into main conversation thread",
      "solution": "Check handoffs configuration specifies return path to main agent. Use handoffConditions to control when results surface. Verify subagent completes task (doesn't error silently). Review logs: .claude/logs/subagents/ for execution trace."
    }
  ],
  "source": "claudepro",
  "slug": "subagent-create",
  "seoTitle": "Subagent Creator for Claude Code"
}
